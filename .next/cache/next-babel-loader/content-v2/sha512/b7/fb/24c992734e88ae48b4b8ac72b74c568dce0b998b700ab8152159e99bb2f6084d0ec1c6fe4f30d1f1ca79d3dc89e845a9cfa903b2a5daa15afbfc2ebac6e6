{"ast":null,"code":"// Next.js API route support: https://nextjs.org/docs/api-routes/introduction\nimport mysql from 'serverless-mysql';\nconst db = mysql({\n  config: {\n    host: 'localhost',\n    port: '3306',\n    database: 'db_myblog',\n    user: 'root'\n  }\n});\n\nasync function execQuery({\n  qry\n}) {\n  try {\n    const data = await db.query(qry);\n    await db.end();\n    return data;\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport default (async (req, res) => {\n  try {\n    const data = await execQuery({\n      qry: 'select * from tbl_kategori'\n    });\n    res.status(200).json(data);\n  } catch (err) {\n    console.log(err);\n  }\n});","map":{"version":3,"sources":["C:/Users/User/Documents/project next/myblog/pages/api/hello.js"],"names":["mysql","db","config","host","port","database","user","execQuery","qry","data","query","end","err","console","log","req","res","status","json"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,kBAAlB;AACA,MAAMC,EAAE,GAAGD,KAAK,CAAE;AAChBE,EAAAA,MAAM,EAAG;AACPC,IAAAA,IAAI,EAAG,WADA;AAEPC,IAAAA,IAAI,EAAG,MAFA;AAGPC,IAAAA,QAAQ,EAAG,WAHJ;AAIPC,IAAAA,IAAI,EAAG;AAJA;AADO,CAAF,CAAhB;;AAQA,eAAeC,SAAf,CAAyB;AAACC,EAAAA;AAAD,CAAzB,EAA+B;AAC/B,MAAI;AACF,UAAMC,IAAI,GAAG,MAAMR,EAAE,CAACS,KAAH,CAASF,GAAT,CAAnB;AACA,UAAMP,EAAE,CAACU,GAAH,EAAN;AACA,WAAOF,IAAP;AACD,GAJD,CAIC,OAAMG,GAAN,EAAU;AACTC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACA;;AACD,gBAAe,OAAOG,GAAP,EAAYC,GAAZ,KAAoB;AACjC,MAAI;AACF,UAAMP,IAAI,GAAG,MAAMF,SAAS,CAAC;AAC3BC,MAAAA,GAAG,EAAG;AADqB,KAAD,CAA5B;AAGAQ,IAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBT,IAArB;AACD,GALD,CAKC,OAAMG,GAAN,EAAU;AACTC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AAEF,CAVD","sourcesContent":["// Next.js API route support: https://nextjs.org/docs/api-routes/introduction\nimport mysql from 'serverless-mysql'\nconst db = mysql ({\n  config : {\n    host : 'localhost' ,\n    port : '3306' ,\n    database : 'db_myblog',\n    user : 'root',\n  }\n})\nasync function execQuery({qry}){\ntry {\n  const data = await db.query(qry)\n  await db.end()\n  return data \n}catch(err){\n  console.log(err)\n}\n}\nexport default async (req, res) => {\n  try {\n    const data = await execQuery({\n      qry : 'select * from tbl_kategori'\n    })\n    res.status(200).json(data)\n  }catch(err){\n    console.log(err)\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}